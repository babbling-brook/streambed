"object"!=typeof BabblingBrook.Client.Page.ManageStream&&(BabblingBrook.Client.Page.ManageStream={}),BabblingBrook.Client.Page.ManageStream.Create=function(){"use strict";var e=function(e,n){"boolean"!=typeof n.success&&t(),n.success===!0?(BabblingBrook.Client.Page.ManageStream.Create.onStreamCreatedHook(),a(e)):r(n.errors)},r=function(e){jQuery("#create_stream").removeClass("button-loading");for(var r in e){for(var a=e[r].length,t="",n=0;a>n;n++)t+=e[r][n]+"<br/>";jQuery("#stream_"+r+"_error").removeClass("hide").html(t)}},a=function(e){e=encodeURIComponent(e);var r="/"+BabblingBrook.Client.User.username+"/stream/"+e+"/0/0/0/update/";BabblingBrook.Client.Core.Ajaxurl.redirect(r)},t=function(){jQuery("#create_stream").removeClass("button-loading"),BabblingBrook.Client.Component.Messages.addMessage({type:"error",message:"An unknown error occured whilst trying to save a stream."})},n=function(){jQuery("#create_stream").addClass("button-loading"),jQuery("#stream_form .error").html("").addClass("hide");var r=jQuery("#stream_name").val(),a=jQuery("#stream_description").val(),n=jQuery("#kind>option:selected").text();BabblingBrook.Library.post("/"+BabblingBrook.Client.User.username+"/streams/make",{name:r,description:a,kind:n},e.bind(null,r),t,"make_stream_error")};return{construct:function(){jQuery("#create_stream").click(n),BabblingBrook.Client.Core.Loaded.setCreateStreamLoaded()},onStreamCreatedHook:function(){}}}(),jQuery(function(){"use strict";BabblingBrook.Client.Page.ManageStream.Create.construct()});
//# sourceMappingURL=/js/Minified/Client/Page/ManageStream/Create.js.map