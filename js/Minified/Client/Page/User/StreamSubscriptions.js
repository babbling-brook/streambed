"object"!=typeof BabblingBrook.Client.Page.User&&(BabblingBrook.Client.Page.User={}),BabblingBrook.Client.Page.User.StreamSubscriptions=function(){"use strict";var e,r,t=!0,n=!0,i=function(e){e.stopPropagation();var r=jQuery(this).parent().parent().parent().attr("data-subscription-id"),t=h(r),n=jQuery(this).parent();n.addClass("selecting-version"),n.find(".change-version").addClass("hide"),n.find(".cancel-version-change").removeClass("hide");var i=jQuery("#Page_StreamSubscriptions_select_version_loading_template>option").clone();return n.find(".select-new-version").removeClass("hide").addClass("select-loading").prepend(i),BabblingBrook.Client.Core.Interact.postAMessage(t,"FetchStreamVersions",o.bind(null,n)),!1},a=function(e){e.stopPropagation();var r=jQuery(this).parent(),t=r.parent().parent(),n=t.attr("data-filter-id"),i=t.parent().parent().parent().parent(),a=i.attr("data-subscription-id"),s=y(a,n);r.addClass("selecting-version").find(".change-version").addClass("hide"),r.find(".cancel-version-change").removeClass("hide");var l=jQuery("#Page_StreamSubscriptions_select_version_loading_template>option").clone();return r.find(".select-new-version").removeClass("hide").addClass("select-loading").prepend(l),BabblingBrook.Client.Core.Interact.postAMessage(s,"FetchRhythmVersions",o.bind(null,r)),!1},o=function(e,r){var t=e.find(".select-new-version");e.find(".option-loading").remove(),t.removeClass("select-loading");var n=e.find(".version-description").text();jQuery.each(r.versions,function(e,r){var i=jQuery("<option>");n===r&&i.attr("selected","selected"),i.text(r),t.append(i)})},s=function(e){"undefined"!=typeof e&&e.stopPropagation(),jQuery(this).addClass("hide");var r=jQuery(this).parent();return r.removeClass("selecting-version").find(".change-version").removeClass("hide"),r.find(".select-new-version").addClass("hide").find("option").not(".select-title").remove(),r.find(".cancel-version-change").addClass("hide"),!1},l=function(e,r,t,n){r.removeClass("selecting-version").find(".select-new-version").removeClass("select-loading").addClass("hide").empty(),r.find(".version-description").text(e);var i=BabblingBrook.Library.makeResourceUrl(t,"",n);r.siblings("div.full-name").children("span.full-name").text(i),s.call(r.find(".cancel-version-change"))},d=function(e){e.stopPropagation();var r=jQuery(this),t=r.parent(),n=t.parent().parent(),i=n.attr("data-filter-id"),a=n.parent().parent().parent().parent(),o=a.attr("data-subscription-id"),s=y(o,i),d=h(o),u=jQuery("option:selected",r).text();t.addClass("select-loading");var c=BabblingBrook.Library.makeVersionObject(u);BabblingBrook.Client.Core.StreamSubscriptions.changeFilterVersion(o,i,c,d,s,l.bind(null,u,t,s,"rhythm"))},u=function(e){e.stopPropagation();var r=jQuery(this),t=r.parent().parent().parent().attr("data-subscription-id"),n=h(t),i=jQuery("option:selected",r).text(),a=r.parent();a.addClass("select-loading");var o=BabblingBrook.Library.makeVersionObject(i);BabblingBrook.Client.Core.StreamSubscriptions.changeStreamVersion(t,o,n,l.bind(null,i,a,n,"stream"))},c=function(e){var r=jQuery("#stream_subscription_unsubscribe_filter_template>li").clone();r.attr("data-filter-id",e.filter_subscription_id);var t=BabblingBrook.Library.makeRhythmUrl(e);r.attr("title",t),jQuery(".filter-name",r).text(e.name),e.locked===!0&&jQuery(".delete",r).addClass("hidden"),jQuery("#edit_streams ul.filters").append(r)},m=function(e){e.stopPropagation();var r=jQuery(this).parent(),t=r.parent().parent().parent().parent(),n=t.attr("data-subscription-id");if(jQuery("div.details",r).length)return jQuery("div.details",r).slideUp(250,function(){r.removeClass("open"),jQuery(this).remove()}),!1;jQuery("ul.filters>li").removeClass("open"),r.addClass("open"),jQuery("div.details",r).remove(),jQuery("#edit_streams ul.filters div.details").slideUp(250);var i,a=r.attr("data-filter-id"),o=BabblingBrook.Client.Core.StreamSubscriptions.getStreamSubscriptionFromId(n);i=o.filters[a],r.append('<div class="details"></div>');var s=jQuery("div.details:first",r);s.addClass("hide");var l=BabblingBrook.Library.makeRhythmUrl(i,""),d=jQuery("#subscription_filter_details_template>div").clone();jQuery(".full-name",d).text(l),jQuery(".filter-description",d).text(i.description);var u=BabblingBrook.Library.makeVersionString(i.version);return jQuery(".version-description",d).text(u),s.append(d),s.slideDown(250),!1},p=function(e){e.stopPropagation();var r=jQuery(this).parent(),t=r.attr("data-filter-id"),n=r.parent().parent().parent().parent(),i=n.attr("data-subscription-id"),a=h(i),o=y(i,t);return r.addClass("block-loading"),BabblingBrook.Client.Core.StreamSubscriptions.unSubscribeStreamFilter(i,t,a,o,function(){r.slideUp(250).remove()}),!1},g=function(e,r,t){var n=t.attr("data-subscription-id");t.addClass("block-loading"),BabblingBrook.Client.Core.StreamSubscriptions.subscribeStreamFilter(n,r,e,function(e){c(e.subscription),t.removeClass("block-loading")})},b=function(e){jQuery(".filter-search").slideUp(250,function(){jQuery(".search-new-filter",e).text("Search for a new filter").parent().removeClass("open block-loading"),jQuery(".filter-search").remove()})},f=function(e,r,t){jQuery(".filter-search").slideDown(250),jQuery(".search-new-filter").parent().removeClass("block-loading"),n===!0?BabblingBrook.Client.Core.Ajaxurl.changeUrl(window.location.href,"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructRhythmSearch",document.title,[e,t]):n=!0},y=function(e,r){var t;return jQuery.each(BabblingBrook.Client.User.StreamSubscriptions,function(n,i){return i.stream_subscription_id===e&&jQuery.each(i.filters,function(e,n){return n.filter_subscription_id===r?(t=n,!1):void 0}),"undefined"!=typeof t?!1:!0}),t},h=function(e){var r;return jQuery.each(BabblingBrook.Client.User.StreamSubscriptions,function(t,n){return n.stream_subscription_id===e?(r=n,!1):!0}),r},v=function(e,r,t){"undefined"!=typeof e&&e.stopPropagation();var n,i;"undefined"==typeof r?(i=jQuery(this).parent(),n=jQuery(this).parent().parent().parent().parent().parent(),r=n.attr("data-subscription-id")):(n=jQuery("#edit_streams>li[data-subscription-id="+r+"]"),i=n.find(".filter-search-opener"));var a=h(r);if(jQuery(".filter-suggestions").is(":visible")&&j(n),jQuery(".filter-search",n).length>0)return b(n),!1;i.addClass("open block-loading"),jQuery(".search-new-filter",n).text("Hide filter search"),i.append('<div class="filter-search" style="display:none;"></div>');{var o=[{name:"Subscribe",onClick:function(e,r,t){e.preventDefault();var i={domain:t.domain,username:t.username,name:t.name,version:{major:"latest",minor:"latest",patch:"latest"}};g(i,a,n),b(n),BabblingBrook.Client.Page.User.StreamSubscriptions.onRhythmSubscribedHook()}},{name:"Description",onClick:function(e,r,t){e.preventDefault();var n=r.next();n.hasClass("search-rhythm-description-row")===!0?jQuery(".search-rhythm-description",n).slideUp("fast",function(){n.remove()}):(jQuery(".selector-action-description",r).addClass("text-loading"),BabblingBrook.Client.Core.Interact.postAMessage({domain:t.domain,username:t.username,name:t.name,version:"latest/latest/latest"},"FetchRhythm",function(e){jQuery(".selector-action-description",r).removeClass("text-loading");var t=jQuery("#search_rhythm_description_template>tbody>tr").clone();jQuery(".search-rhythm-description",t).text(e.rhythm.description),r.after(t),jQuery(".search-rhythm-description",t).slideDown("fast").removeClass("hide")},function(){console.error("error fetching rhythm")}))}},{name:"View",onReady:function(e,r){var t=BabblingBrook.Library.makeRhythmUrl({domain:r.domain,username:r.username,name:r.name,version:r.version},"view");jQuery(".selector-action-view",e).attr("href","http://"+t)}}];new BabblingBrook.Client.Component.Selector("rhythm","filter",jQuery(".filter-search"),o,{show_fields:{version:!1},initial_values:{rhythm_category:"sort"},onReady:f.bind(null,r,n),additional_selector_class:"selector-2"},t)}return!1},j=function(e){jQuery(".filter-suggestions",e).slideUp(250,function(){jQuery(".filter-suggest-opener",e).removeClass("open block-loading"),jQuery(".suggest-new-filter",e).text("Show filter suggestions"),jQuery(".filter-suggestions",e).remove()})},Q=function(e,r,t,i){var a=jQuery(".filter-suggestions",t);if(0===i.length){var o=jQuery("#no_suggestions_template>div").clone();a.append(o)}var s=a.find(".filter-suggestions-table");jQuery.each(i,function(e,n){var i=BabblingBrook.Library.makeRhythmUrl(n,"view"),a=jQuery("#subscription_filter_suggestion_table_template>tbody>tr").clone();a.attr("data-filter-name",n.name),a.attr("data-filter-domain",n.domain),a.attr("data-filter-username",n.username),a.attr("data-filter-version",n.version),jQuery(".view-suggestion-filter",a).attr("href","http://"+i),jQuery(".rhythm",a).attr("title",i),jQuery(".rhythm",a).text(n.name),s.append(a),jQuery(".add-suggestion-filter").click(function(){var e={domain:a.attr("data-filter-domain"),username:a.attr("data-filter-username"),name:a.attr("data-filter-name"),version:{major:"latest",minor:"latest",patch:"latest"}};return g(e,r,t),j(t),!1}),jQuery(".view-suggestion-filter").click(function(){var e=jQuery(this).parent().parent(),r=BabblingBrook.Library.makeRhythmUrl({domain:e.attr("data-filter-domain"),username:e.attr("data-filter-username"),name:e.attr("data-filter-name"),version:"latest/latest/latest"},"view");return BabblingBrook.Client.Core.Ajaxurl.redirect(r),!1})}),a.parent().slideDown(250,function(){jQuery(".filter-suggest-opener",t).removeClass("block-loading")}),n===!0?BabblingBrook.Client.Core.Ajaxurl.changeUrl(window.location.href,"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructRhythmSuggestions",document.title,[e]):n=!0},C=function(e,r){"undefined"!=typeof e&&e.stopPropagation();var t;"undefined"==typeof r?(t=jQuery(this).parent().parent().parent().parent().parent(),r=t.attr("data-subscription-id")):t=jQuery("#edit_streams>li[data-subscription-id="+r+"]");var n=t.find(".filter-suggest-opener"),i=h(r);if(jQuery(".filter-search").is(":visible")&&b(t),jQuery(".filter-suggestions").is(":visible")||jQuery(".filter-suggest-opener",t).hasClass("block-loading"))return j(t),!1;var a=jQuery("#subscription_filter_suggestion_template>div").clone();return n.addClass("open block-loading").append(a).find(".suggest-new-filter").text("Hide rhythm suggestions"),BabblingBrook.Client.Core.Suggestion.fetch("stream_filter_suggestion",Q.bind(null,r,i,t),{domain:i.domain,username:i.username,name:i.name,version:BabblingBrook.Library.makeVersionString(i.version)}),!1},_=function(e){var r=jQuery("#moderation_line_template>li").clone(),t=e.domain+"/"+e.username;r.attr("title",t),jQuery(".ring-name",r).text(e.username),r.attr("data-ring-subscription-id",e.ring_subscription_id),jQuery(".details",r).attr("href","http://"+t+"/profile"),jQuery("#edit_streams ul.moderation-rings").append(r)},k=function(e){"undefined"!=typeof e&&e.stopPropagation();var r=jQuery(this).parent(),t=r.attr("data-ring-subscription-id"),n=r.parent().parent().parent().parent(),i=n.attr("data-subscription-id"),a=h(i),o=r.attr("title"),s=o.split("/"),l={domain:s[0],username:s[1]};r.addClass("block-loading"),BabblingBrook.Client.Core.StreamSubscriptions.unsubscribeStreamModerationRing(i,t,a,l,function(){r.slideUp(250).remove()})},B=function(e,r,t){BabblingBrook.Client.Core.StreamSubscriptions.subscribeStreamModerationRing(r,e,t,function(e){_(e.subscription)})},S=function(){jQuery("#edit_streams .moderation-suggestions").slideUp(250,function(){jQuery("#edit_streams .suggest-new-moderation-ring").text("Show moderation suggestions").parent().removeClass("open block-loading"),jQuery("#edit_streams .moderation-suggestions").remove()})},w=function(e,r,t,i,a){var o=jQuery("#edit_streams #moderation_suggestions");if(0===a.length){var s=jQuery("#no_suggestions_template>div").clone();jQuery(".moderation-suggestions",t).append(s)}jQuery.each(a,function(e,r){var t=jQuery("#moderation_ring_suggetstion_line_template>tbody>tr").clone();t.attr("data-ring-name",r.username),t.attr("data-ring-domain",r.domain),jQuery(".view-suggested-moderation-ring",t).attr("href","http://"+r.domain+"/"+r.username),jQuery(".ring",t).attr("title",r.domain+"/"+r.username).text(r.username),o.append(t)}),jQuery(".add-suggested-moderation-ring").click(function(){var n=jQuery(this).parent().parent(),i={domain:n.attr("data-ring-domain"),username:n.attr("data-ring-name")};return B(r,e,i,t),S(t),!1}),jQuery(".join-moderation-ring-filter").click(function(){var e=jQuery(this).parent().parent(),r=e.attr("data-ring-name"),t=e.attr("data-ring-domain"),n="http://"+t+"/"+r+"/profile";return BabblingBrook.Client.Core.Ajaxurl.redirect(n),!1}),o.parent().slideDown(250,function(){o.parent().parent().removeClass("block-loading")}),n===!0?BabblingBrook.Client.Core.Ajaxurl.changeUrl(window.location.href,"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructRingSuggestions",document.title,[e]):n=!0},x=function(e,r){"undefined"!=typeof e&&e.stopPropagation();var t;"undefined"==typeof r?(t=jQuery(this).parent().parent().parent().parent().parent(),r=t.attr("data-subscription-id")):t=jQuery("#edit_streams>li[data-subscription-id="+r+"]");var n=t.find(".suggestion-moderation-rings-opener"),i=h(r);if(n.hasClass("open")===!0)return S(t),!1;n.hasClass("open")===!0&&U(t);var a=jQuery("#moderation_ring_suggestion_container_template>div").clone();return jQuery("table",a).attr("id","moderation_suggestions"),n.append(a).addClass("open block-loading").find("#edit_streams .suggest-new-moderation-ring").text("Hide moderation suggestions"),BabblingBrook.Client.Core.Suggestion.fetch("stream_ring_suggestion",w.bind(null,r,i,t,n),{domain:i.domain,username:i.username,name:i.name,version:BabblingBrook.Library.makeVersionString(i.version)}),!1},U=function(e){jQuery("#moderation_ring_search",e).slideUp(250,function(){jQuery(".search-moderation-rings-opener",e).removeClass("open block-loading"),jQuery(".search-new-moderation-ring",e).text("Search for a moderation ring"),jQuery("#moderation_ring_search",e).remove()})},R=function(e,r){jQuery("#moderation_ring_search").slideDown(250),jQuery("#edit_streams .search-new-moderation-ring").parent().removeClass("block-loading"),n===!0?BabblingBrook.Client.Core.Ajaxurl.changeUrl(window.location.href,"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructRingSearch",document.title,[e,r]):n=!0},P=function(e,r,t){"undefined"!=typeof e&&e.stopPropagation();var n;"undefined"==typeof r?(n=jQuery(this).parent().parent().parent().parent().parent(),r=n.attr("data-subscription-id")):n=jQuery("#edit_streams>li[data-subscription-id="+r+"]");var i=n.find(".search-moderation-rings-opener"),a=h(r);if(jQuery(".suggestion-moderation-rings-opener",n).hasClass("open")&&S(n),i.hasClass("open")===!0)return U(),!1;i.addClass("open block-loading"),jQuery(".search-new-moderation-ring",i).text("Hide moderation ring search"),i.append('<div id="moderation_ring_search" style="display:none;"></div>');{var o=jQuery("#moderation_ring_search"),s=[{name:"Subscribe",onClick:function(e,t){e.preventDefault();var i={domain:jQuery(".domain",t).text(),username:jQuery(".username",t).text()};B(a,r,i,n),U(),BabblingBrook.Client.Page.User.StreamSubscriptions.onModerationRingSubscribedHook()},onReady:function(e,r){var t=!1,n=r.domain+"/"+r.username;jQuery.each(a.rings,function(e,r){var i=r.domain+"/"+r.username;i===n&&(t=!0)}),t===!0&&jQuery(".selector-action-subscribe",e).addClass("hidden")}},{name:"View",onReady:function(e,r){var t="http://"+r.domain+"/"+r.username+"/profile";jQuery(".selector-action-view",e).attr("href",t)}}];new BabblingBrook.Client.Component.Selector("user","moderation_ring_search",o,s,{initial_values:{user_type:"ring"},onReady:R.bind(null,r),user_type:"ring",additional_selector_class:"selector-2"},t)}return!1},L=function(e,r){"undefined"!=typeof e&&e.stopPropagation(),"string"!=typeof r&&(r=jQuery(this).parent().attr("data-subscription-id"));var n=jQuery("#edit_streams>li[data-subscription-id="+r+"]");if(n.hasClass("opening")===!0)return!1;if(n.hasClass("open")===!0)return jQuery("div.details",n).slideUp(250,function(){n.removeClass("opening").removeClass("open",250),jQuery(this).remove()}),!1;n.addClass("opening").toggleClass("open",250,function(){n.removeClass("opening")}),jQuery("div.details",n).remove(),jQuery("#edit_streams>li>div.details").not(n).slideUp(250,function(){jQuery(this).parent().toggleClass("open",250),jQuery(this).remove()}),jQuery(".filter-options",n).remove();var i=h(r);n.append('<div class="details"></div>');var a=jQuery("div.details:first",n);a.addClass("hide");var o=BabblingBrook.Library.makeStreamUrl(i),s=jQuery("#stream_details_line_template>div").clone();jQuery("span.full-name",s).text(o),jQuery(".stream-description",s).text(i.description);var l=BabblingBrook.Library.makeVersionString(i.version);return jQuery(".version-description",s).text(l),a.append(s),BabblingBrook.Settings.feature_switches.CHANGE_STREAM_MODERATION_RING===!1&&jQuery(".moderation-block",a).addClass("hide"),jQuery.each(i.filters,function(e,r){c(r)}),jQuery.each(i.rings,function(e,r){_(r)}),a.slideDown(250).removeClass("hide"),a.parent().removeClass("block-loading"),t===!0?BabblingBrook.Client.Core.Ajaxurl.changeUrl(window.location.href,"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructStreamSubscription",document.title,[r]):t=!0,!1},D=function(e){var r=jQuery("#subscribed_line_template>li").clone();r.attr("data-subscription-id",e.stream_subscription_id),jQuery(".stream-name",r).text(e.name),e.locked===!0&&jQuery(".delete",r).addClass("hidden"),jQuery("#edit_streams").append(r)},A=function(e,r,t,n,i){i.addClass("block-loading");var a={name:e,domain:r,username:t,version:BabblingBrook.Library.makeVersionObject(n)};BabblingBrook.Client.Core.StreamSubscriptions.subscribeStream(a,function(e){i.removeClass("block-loading"),D(e.subscription),BabblingBrook.Client.Page.User.StreamSubscriptions.onStreamSubscribedHook()})},V=function(){var e=jQuery("#stream_suggestions_opener_message_template").text(),t=jQuery("#stream_suggestions_closer_message_template").text(),n=jQuery("#stream_suggestions_opener");r=new BabblingBrook.Client.Component.Suggestions(n,e,t,"stream_suggestion","streams_to_subscribe","BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructStreamSuggestions",[{name:"Subscribe",onClick:function(e,r){A(e.name,e.domain,e.username,"latest/latest/latest",r)}},{name:"Description",onClick:function(e,r){var t=r.next();t.hasClass("search-stream-description-row")===!0?jQuery(".search-stream-description",t).slideUp("fast",function(){t.remove()}):(jQuery(".selector-action-description",r).addClass("text-loading"),BabblingBrook.Client.Core.Interact.postAMessage({stream:{domain:e.domain,username:e.username,name:e.name,version:e.version}},"FetchStream",function(e){jQuery(".selector-action-description",r).removeClass("text-loading");var t=jQuery("#search_stream_description_template>tbody>tr").clone();jQuery(".search-stream-description",t).text(e.description),r.after(t),jQuery(".search-stream-description",t).slideDown("fast").removeClass("hide")},function(){console.error("error fetching stream")}))}},{name:"View",onClick:function(e){var r=BabblingBrook.Library.makeStreamUrl(e,"");BabblingBrook.Client.Core.Ajaxurl.redirect(r)}}])},H=function(r){BabblingBrook.Client.Page.User.StreamSubscriptions.onStreamSearchOpenedHook();{var t=[{name:"Subscribe",onClick:function(e,r){e.preventDefault();var t=jQuery(".name",r).text(),n=jQuery(".domain",r).text(),i=jQuery(".username",r).text();A(t,n,i,"latest/latest/latest",r)}},{name:"Description",onClick:function(e,r){e.preventDefault();var t=r.next();if(t.hasClass("search-stream-description-row")===!0)jQuery(".search-stream-description",t).slideUp("fast",function(){t.remove()});else{var n=jQuery(".name",r).text(),i=jQuery(".domain",r).text(),a=jQuery(".username",r).text();jQuery(".selector-action-description",r).addClass("text-loading"),BabblingBrook.Client.Core.Interact.postAMessage({stream:{domain:i,username:a,name:n,version:"latest/latest/latest"}},"FetchStream",function(e){jQuery(".selector-action-description",r).removeClass("text-loading");var t=jQuery("#search_stream_description_template>tbody>tr").clone();jQuery(".search-stream-description",t).text(e.description),r.after(t),jQuery(".search-stream-description",t).slideDown("fast").removeClass("hide")},function(){console.error("error fetching stream")})}}},{name:"View",onReady:function(e,r){var t=BabblingBrook.Library.makeStreamUrl(r,"",!1);jQuery(".selector-action-view",e).attr("href",t)}}];new BabblingBrook.Client.Component.Selector("stream","stream",jQuery("#stream_search_container"),t,{initial_values:{rhythm_category:"sort",domain:window.location.hostname},onReady:e.onChange,onBeforeRedraw:e.onBeforeChange,show_fields:{version:!1},additional_selector_class:"selector-2"},r)}return!1},M=function(e){e.stopPropagation();var r=jQuery(this).parent();if(r.hasClass("block-loading")===!0)return!1;var t=jQuery(this).parent().attr("data-subscription-id"),n=h(t);return r.addClass("block-loading"),BabblingBrook.Client.Core.StreamSubscriptions.unsubscribeStream(n,t,function(){r.removeClass("block-loading"),r.slideUp(250,function(){r.remove()})}),!1};return{construct:function(){BabblingBrook.Client.Core.Loaded.onStreamSubscriptionsLoaded(function(){jQuery.each(BabblingBrook.Client.User.StreamSubscriptions,function(e,r){D(r)}),BabblingBrook.Client.Core.Loaded.setStreamSubscriptionsPageLoaded();var r=jQuery("#stream_search_opener_message_template").text(),t=jQuery("#stream_search_closer_message_template").text();e=new BabblingBrook.Client.Component.TableOpenerUX(r,t,jQuery("#stream_search_opener"),jQuery("#stream_search_container"),"#selector_stream",H.bind(null,1),"BabblingBrook.Client.Page.User.StreamSubscriptions.reconstructStreamSearch"),V(),jQuery("#page").on("click","#edit_streams>li>a.details",L),jQuery("#page").on("click","#edit_streams>li>a.delete",M),jQuery("#edit_streams").on("click",".stream-version-row .change-version",i),jQuery("#edit_streams").on("click",".cancel-version-change",s),jQuery("#edit_streams").on("change",".stream-versions",u),jQuery("#edit_streams").on("click",".filter-details",m),jQuery("#edit_streams").on("click",".filter-version-row .change-version",a),jQuery("#edit_streams").on("change",".filter-versions",d),jQuery("#edit_streams").on("click",".filter-delete",p),jQuery("#edit_streams").on("click",".suggest-new-filter",C),jQuery("#edit_streams").on("click",".search-new-filter",v),jQuery("#edit_streams").on("click",".search-new-moderation-ring",P),jQuery("#edit_streams").on("click",".moderation-rings .delete",k),jQuery("#edit_streams").on("click",".suggest-new-moderation-ring",x)})},reconstructStreamSearch:function(e){t=!1,H(e)},reconstructStreamSuggestions:function(){t=!1,r.autoOpen()},reconstructRhythmSuggestions:function(e){t=!1,n=!1,L(void 0,e),C(void 0,e)},reconstructRingSuggestions:function(e){t=!1,n=!1,L(void 0,e),x(void 0,e)},reconstructStreamSubscription:function(e){t=!1,L(void 0,e)},reconstructRhythmSearch:function(e,r){t=!1,n=!1,L(void 0,e),v(void 0,e,r)},reconstructRingSearch:function(e,r){t=!1,n=!1,L(void 0,e),P(void 0,e,r)},onStreamSubscribedHook:function(){},onRhythmSubscribedHook:function(){},onStreamSearchOpenedHook:function(){},openStreamSearch:function(){H(1)},onModerationRingSubscribedHook:function(){}}}(),jQuery(function(){"use strict";BabblingBrook.Client.Page.User.StreamSubscriptions.construct(),jQuery("#choose_stream a.suggestions").trigger("click")});
//# sourceMappingURL=/js/Minified/Client/Page/User/StreamSubscriptions.js.map