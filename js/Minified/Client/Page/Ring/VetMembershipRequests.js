"object"!=typeof BabblingBrook.Client.Page.Ring&&(BabblingBrook.Client.Page.Ring={}),BabblingBrook.Client.Page.Ring.VetRingMembershipRequests=function(){"use strict";var e,n,r=function(e,n,r,o){return o.success===!1?void i(e,n,r):void e.slideUp(250,function(){e.remove()})},i=function(e,n,r){a(e,n,r,"#on_ring_membership_request_accepted_error_template")},o=function(o,t,s){s.addClass("row-loading"),BabblingBrook.Client.Core.Interact.postAMessage({user:{domain:o,username:t},ring:{domain:n,username:e}},"AcceptRingMembershipRequest",r.bind(null,s,o,t),i.bind(null,s,o,t))},t=function(e,n,r,o){return o.success===!1?void i(e,n,r):void e.slideUp(250,function(){e.remove()})},s=function(e,n,r){a(e,n,r,"#on_ring_membership_request_declined_error_template")},a=function(r,i,o,t){r.removeClass("row-loading").addClass("row-error");var s=jQuery(t).clone();jQuery(".ring-request-user",s).text(o+"@"+i),jQuery(".ring-request-ring",s).text(e+"@"+n),BabblingBrook.Client.Component.Messages.addMessage({type:"error",message:s.text()})},u=function(r,i,o){o.addClass("row-loading"),BabblingBrook.Client.Core.Interact.postAMessage({user:{domain:r,username:i},ring:{domain:n,username:e}},"DeclineRingMembershipRequest",t.bind(null,o,r,i),s.bind(null,o,r,i))},l=function(r,i,o){o.addClass("row-loading"),BabblingBrook.Client.Core.Interact.postAMessage({user:{domain:r,username:i},ring:{domain:n,username:e}},"BanRingMember",c.bind(null,r,i,o),m.bind(null,r,i,o))},c=function(e,n,r,i){return i.success===!1?void m(e,n,r):void r.slideUp(250,function(){r.remove()})},m=function(e,n,r){a(r,e,n,"#on_membership_request_banned_error_template")},d=function(r){{var i=jQuery("#ring_membership_request_list"),t=[{name:"View Profile",onReady:function(e,n){var r=n.domain+"/"+n.username+"/profile";jQuery(".selector-action-view",e).attr("href","http://"+r)}},{name:"Accept",onClick:function(e,n,r){e.preventDefault(),o(r.domain,r.username,n)}},{name:"Decline",onClick:function(e,n,r){e.preventDefault(),u(r.domain,r.username,n)}},{name:"Ban",onClick:function(e,n,r){e.preventDefault(),l(r.domain,r.username,n)}}];new BabblingBrook.Client.Component.Selector("user","ring_membership_request_list",i,t,{users_to_vet_for_ring:{domain:n,username:e}},r)}};return{construct:function(){e=BabblingBrook.Library.extractUsername(window.location.href),n=window.location.hostname,d(1)}}}(),jQuery(function(){"use strict";BabblingBrook.Client.Page.Ring.VetRingMembershipRequests.construct()});
//# sourceMappingURL=/js/Minified/Client/Page/Ring/VetMembershipRequests.js.map