"object"!=typeof BabblingBrook.Client.Page.Ring&&(BabblingBrook.Client.Page.Ring={}),BabblingBrook.Client.Page.Ring.Invite=function(){"use strict";var e=function(){var e=jQuery("#user_selector");jQuery("#select_user").click(function(){if(e.is(":visible"))return!1;{var n=[{name:"Select",onClick:function(n,r){n.preventDefault();var i=jQuery(".username",r).text(),t=jQuery(".domain",r).text();jQuery("#invite").val(t+"/"+i),e.slideUp(250)}}];new BabblingBrook.Client.Component.Selector("user","member_ring_user",e,n)}return e.slideDown(250).removeClass("hide"),!1})},n=function(e){jQuery("#user_error").text(e).removeClass("hide")},r=function(e,r){jQuery("#send_invite").removeClass("button-loading"),"string"==typeof r.error&&n(r.error),jQuery("#invite").val(""),jQuery("#sent_to_username").text(e),jQuery("#user_sent_message").removeClass("hide")},i=function(e){jQuery("#send_invite").removeClass("button-loading"),"undefined"==typeof e&&(e="There was an error communicating with the server. Please try again."),jQuery("#send_invite").removeClass("button-loading"),n(e)},t=function(){jQuery("#user_sent_message").addClass("hide");var e=jQuery("#invite").val();if(-1===e.indexOf("/"))return void n("Not a valid username. Ensure both the domain and the username are entered.");jQuery("#send_invite").addClass("button-loading");var t=BabblingBrook.Library.getParameterByName("type");if("undefined"==typeof t||"member"!==t&&"admin"!==t)return void i("No valid type present in the url.");var a=e.split("/");jQuery("#user_error").addClass("hide"),BabblingBrook.Library.post("/"+jQuery("#ring_name").val()+"/ring/sendinvitation",{to:{username:a[1],domain:a[0]},type:t},r.bind(null,e),i)};return{construct:function(){e(),jQuery("#send_invite").click(t)}}}(),jQuery(function(){"use strict";BabblingBrook.Client.Page.Ring.Invite.construct()});
//# sourceMappingURL=/js/Minified/Client/Page/Ring/Invite.js.map