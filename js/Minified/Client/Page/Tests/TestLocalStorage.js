"object"!=typeof BabblingBrook.Client.Page.Tests&&(BabblingBrook.Client.Page.Tests={}),BabblingBrook.Client.Page.Tests.TestLocalStorage=function(){"use strict";var e,t="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus placerat suscipit tincidunt. Ut arcu erat, efficitur et fringilla nec, imperdiet at libero. Sed pretium scelerisque pellentesque. Nunc ac malesuada eros. Vivamus non magna aliquet, blandit orci at, blandit purus. Morbi maximus lacus convallis, rhoncus lectus sed, mollis ante. Quisque aliquet sit amet ante at posuere. Nullam malesuada nulla ut est efficitur tincidunt auctor sit amet ligula. Etiam convallis, neque dignissim gravida maximus, tellus purus placerat urna, a laoreet mi felis quis ante. Nam eros sapien, iaculis in elementum et, viverra at diam. Sed varius purus sit amet auctor efficitur. Nam dignissim porta dignissim. Fusce maximus purus eget erat lobortis aliquet in in enim",a=function(){jQuery("#test_results").append("<p>Attempting to add an extra element.</p>"),BabblingBrook.LocalStorage.store("test_extra_key",t),jQuery("#test_results").append("<p>Local storage size is now : "+localStorage.length+"</p>");for(var a=Math.floor(e/4),s=localStorage.length,l=0;s>l;l++){var r=localStorage.getItem(localStorage.key(l)),i=JSON.parse(r);i.t<a&&jQuery("#test_results").append('<p class="error">An item that should have been deleted has not been : '+localStorage.key(l)+" </p>")}jQuery("#test_results").append("<p>Test complete.</p>"),jQuery("#test_results").removeClass("block-loading")},s=function(){localStorage.clear(),jQuery("#test_results").append("<p>Cleared local storage.</p>");var a,s,l,r=!1;a=Math.round((new Date).getTime()/1e3);for(var i=0;1e5>i;i++){s={d:t,t:i},l=window.JSON.stringify(s);try{localStorage.setItem("test_data_"+i,l)}catch(o){console.log("local storage full : "+o),jQuery("#fill_results").text("localStorage filled with test data. Total rows : "+i),r=!0,e=i;break}r===!1&&i%100===0&&jQuery("#fill_results").text("filling : rows so far : "+i)}jQuery("#test_results").append("<p>Filled local storage with test data. rowcount : "+i+"</p>")};return{construct:function(){jQuery("#test_local_storage").click(function(){jQuery("#test_results").addClass("block-loading"),jQuery("#test_results").append("<p>Starting test...</p>"),setTimeout(function(){s(),a()},100)})}}}(),jQuery(function(){"use strict";BabblingBrook.Client.Page.Tests.TestLocalStorage.construct()});
//# sourceMappingURL=/js/Minified/Client/Page/Tests/TestLocalStorage.js.map