{"version":3,"sources":["..//Client/Page/Post/PostWithTree.js"],"names":["BabblingBrook","Client","Page","Post","PostWithTree","post","stream","stream_url","child_post_template","filters","current_filter_url","root_post_display_hooks","deferred_stream_loaded","jQuery","Deferred","onFilterChanged","filter","name","Library","normaliseResourceName","filter_url","makeRhythmUrl","removeClass","empty","setupTree","displaySort","jq_post","sort","addClass","jq_sort","text","parseInt","displayCallbackWithTaken","update","taken","jq_branch_location","parent_id","jq_this_post","post_id","Component","bind","displayCallback","has_children","length","jq_post_place_holder","clone","attr","prepend","append","username","Value","areAnyTaken","displaySortedPosts","data","StreamSideBar","onSorted","sort_request","url","Core","Tree","posts","domain","displayTreeUpdate","create","displayTree","update_sort","type","moderation_rings","refresh_frequency","priority","success","error","setupTreeError","FetchMore","register","Tutorial","readCommentsHack","recordStreamDisplayed","Interact","postAMessage","feature","error_data","StreamError","window","location","host","sort_filter","posts_to_timestamp","onDisplayedRootPost","done","i","onStreamFetched","stream_data","resolve","onStreamChanged","setup","post_data","makeStreamUrl","stream_domain","stream_username","stream_name","version","stream_version","Streams","getStream","tree_branch_template","replaceWith","jq_post_location","root_post_template","construct","post_url","pathname","url_parts","split","post_domain","ClientConfig","default_sort_filters","onFiltersLoaded","error_message","message","error_code","Messages","addMessage","full","remove","Loaded","setPostWithTreeLoaded","registerOnRootPostDisplayHook","onDisplayRootPostExtraCallback","console","trace","push","onUserLoaded"],"mappings":"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"}