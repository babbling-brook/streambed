{"version":3,"sources":["..//Client/Page/Post/PostWithTree.js"],"names":["BabblingBrook","Client","Page","Post","PostWithTree","post","stream","stream_url","child_post_template","filters","current_filter_url","root_post_display_hooks","deferred_stream_loaded","jQuery","Deferred","onFilterChanged","filter","name","Library","normaliseResourceName","filter_url","makeRhythmUrl","removeClass","empty","setupTree","displaySort","jq_post","sort","addClass","jq_sort","text","parseInt","displayCallbackWithTaken","update","taken","jq_branch_location","parent_id","jq_this_post","post_id","Component","bind","displayCallback","has_children","length","jq_post_place_holder","clone","attr","prepend","append","username","Value","areAnyTaken","displaySortedPosts","data","StreamSideBar","onSorted","sort_request","url","Core","Tree","posts","domain","displayTreeUpdate","create","displayTree","update_sort","streams","client_uid","type","moderation_rings","refresh_frequency","priority","success","error","setupTreeError","FetchMore","register","Tutorial","readCommentsHack","recordStreamDisplayed","Interact","postAMessage","feature","error_data","StreamError","sort_filter","makeStreamFromUrl","posts_to_timestamp","onDisplayedRootPost","done","i","onStreamFetched","stream_data","extend","version","makeVersionObject","resolve","onStreamChanged","setup","post_data","makeStreamUrl","stream_domain","stream_username","stream_name","stream_version","Streams","getStream","tree_branch_template","replaceWith","jq_post_location","root_post_template","construct","post_url","window","location","pathname","url_parts","split","post_domain","ClientConfig","default_sort_filters","onFiltersLoaded","error_message","message","error_code","Messages","addMessage","full","remove","Loaded","setPostWithTreeLoaded","registerOnRootPostDisplayHook","onDisplayRootPostExtraCallback","console","trace","push","onUserLoaded"],"mappings":"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"}